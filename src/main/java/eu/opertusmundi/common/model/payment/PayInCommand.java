package eu.opertusmundi.common.model.payment;

import java.math.BigDecimal;
import java.time.ZonedDateTime;
import java.util.UUID;

import com.fasterxml.jackson.annotation.JsonIgnoreType;

import lombok.Getter;
import lombok.NoArgsConstructor;
import lombok.Setter;

/**
 * Base PayIn class
 *
 * Credited user and wallet are derived from the {@link PayInCommand#userKey}
 * property.
 */
@NoArgsConstructor
@JsonIgnoreType
public abstract class PayInCommand {

    public PayInCommand(
        UUID userKey, UUID orderKey, BigDecimal debitedFunds, String referenceNumber, String payIn, ZonedDateTime createdOn,
        EnumTransactionStatus status, ZonedDateTime executedOn, String resultCode, String resultMessage
    ) {
        super();
        this.userKey         = userKey;
        this.orderKey        = orderKey;
        this.debitedFunds    = debitedFunds;
        this.referenceNumber = referenceNumber;
        this.payIn           = payIn;
        this.createdOn       = createdOn;
        this.status          = status;
        this.executedOn      = executedOn;
        this.resultCode      = resultCode;
        this.resultMessage   = resultMessage;
    }

    /**
     * Platform PayIn unique identifier
     */
    @Getter
    @Setter
    private UUID payInKey = UUID.randomUUID();

    /**
     * User who requested the payment
     */
    @Getter
    private UUID userKey;

    /**
     * Optional order key if this is an order payment
     */
    @Getter
    private UUID orderKey;

    /**
     * Updated by the context e.g. for an order, get the total price including
     * VAT
     */
    @Getter
    @Setter
    private BigDecimal debitedFunds;

    /**
     * Reference number generated by the payment service
     */
    @Getter
    @Setter
    private String referenceNumber;

    /**
     * Payment provider PayIn unique identifier
     */
    @Getter
    @Setter
    private String payIn;

    /**
     * Creation date as set by the payment provider
     */
    @Getter
    @Setter
    private ZonedDateTime createdOn;

    /**
     * Transaction status set by the provider
     */
    @Getter
    @Setter
    private EnumTransactionStatus status;

    /**
     * Execution date as set by the payment provider
     */
    @Getter
    @Setter
    private ZonedDateTime executedOn;

    /**
     * Payment provider error code if operation has failed
     */
    @Getter
    @Setter
    private String resultCode;

    /**
     * Payment provider message
     */
    @Getter
    @Setter
    private String resultMessage;

}
